{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Log in | Dumblr</title>
    <meta charset="utf-8">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">


        <!-- CSS -->
    <link rel="stylesheet" href="{% static 'tumblr/css/login.css' %}">


</head>
<body>
{% block content %}
 <div id="fullBg" />
    <div class="container" style="position: relative; top: 250px;">
        {% if form.errors %}
            <p class="error">Sorry, that's not a valid username or password</p>
        {% endif %}
        <form action="" class="form-signin" method="post">
            {% csrf_token %}

            <img src="{% static 'tumblr/images/tumblr image.png' %}"  style=" width: 232px; height: 50px;  position:relative;left:20px; top:-30px;" alt="loginlogo">
            <input id="emailField" type="text" readonly="readonly" class="form-control"placeholder="Email" required="" autofocus=""style="opacity: 1; color: rgba(0,0,0,0.91) "/>
            <input id="usernameField" type="hidden" class="form-control" name="username" placeholder="Username" required="" autofocus=""style="opacity: 1; color: rgba(0,0,0,0.91) "/>
            <input type="password" class="form-control" name="password" placeholder="Password" required=""/>
            <button  class="btn btn-lg btn-primary btn-block" type="submit" style="position:relative;top: 10px;">Next</button>
        </form>

    </div>

{% endblock %}

    <script>
        // Autofill the username field from the email
        function findGetParameter(parameterName) {
            var result = null,
                tmp = [];
            location.search
                .substr(1)
                .split("&")
                .forEach(function (item) {
                tmp = item.split("=");
                if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
                });
            return result;
        }
        window.onload = function() {
            document.getElementById("emailField").value = findGetParameter("email");
            document.getElementById("usernameField").value = findGetParameter("username");
        }
    </script>
</body>
